{"ast":null,"code":"import * as types from '../constants/ActionTypes';\nimport AuthService from '../service/AuthService';\nexport const register = user => dispatch => {\n  return AuthService.register(user).then(res => {\n    if (res.data.errrCode === 0) {\n      dispatch({\n        type: types.REGISTER_SUCCESS\n      });\n      dispatch({\n        type: types.SET_MESSAGE,\n        payload: {\n          errC: res.data.errCode,\n          errM: res.data.errMessage\n        }\n      });\n      return Promise.resolve();\n    } else {\n      dispatch({\n        type: types.REGISTER_FAIL\n      });\n      dispatch({\n        type: types.SET_MESSAGE,\n        payload: {\n          errC: res.data.errCode,\n          errM: res.data.errMessage\n        }\n      });\n      return Promise.resolve();\n    }\n  }).catch(error => {\n    const message = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n    dispatch({\n      type: types.REGISTER_FAIL\n    });\n    dispatch({\n      type: types.SET_MESSAGE,\n      payload: {\n        errC: -201,\n        message\n      }\n    });\n    return Promise.reject();\n  });\n};\nexport const login = user => dispatch => {\n  return AuthService.login(user).then(res => {\n    if (res.data.errrCode === 0) {\n      dispatch({\n        type: types.LOGIN_SUCCESS,\n        payload: {\n          user: res.data.user\n        }\n      });\n      dispatch({\n        type: types.SET_MESSAGE,\n        payload: {\n          errC: res.data.errCode,\n          errM: res.data.errMessage\n        }\n      });\n      return Promise.resolve();\n    } else {\n      dispatch({\n        type: types.LOGIN_FAIL\n      });\n      dispatch({\n        type: types.SET_MESSAGE,\n        payload: {\n          errC: res.data.errCode,\n          errM: res.data.errMessage\n        }\n      });\n      return Promise.resolve();\n    }\n  }).catch(error => {\n    const message = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n    dispatch({\n      type: types.LOGIN_FAIL\n    });\n    dispatch({\n      type: types.SET_MESSAGE,\n      payload: {\n        errC: -201,\n        message\n      }\n    });\n    return Promise.reject();\n  });\n};\nexport const logout = () => dispatch => {\n  return AuthService.logout().then(res => {\n    if (res.data.errrCode === 0) {\n      dispatch({\n        type: types.LOGOUT\n      });\n      dispatch({\n        type: types.SET_MESSAGE,\n        payload: {\n          errC: res.data.errCode,\n          errM: res.data.errMessage\n        }\n      });\n      return Promise.resolve();\n    } else {\n      dispatch({\n        type: types.LOGOUT\n      });\n      dispatch({\n        type: types.SET_MESSAGE,\n        payload: {\n          errC: res.data.errCode,\n          errM: res.data.errMessage\n        }\n      });\n      return Promise.resolve();\n    }\n  }).catch(error => {\n    const message = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n    dispatch({\n      type: types.LOGOUT\n    });\n    dispatch({\n      type: types.SET_MESSAGE,\n      payload: {\n        errC: -201,\n        message\n      }\n    });\n    return Promise.reject();\n  });\n};\nexport const getProfile = () => dispatch => {};","map":{"version":3,"names":["types","AuthService","register","user","dispatch","then","res","data","errrCode","type","REGISTER_SUCCESS","SET_MESSAGE","payload","errC","errCode","errM","errMessage","Promise","resolve","REGISTER_FAIL","catch","error","message","response","toString","reject","login","LOGIN_SUCCESS","LOGIN_FAIL","logout","LOGOUT","getProfile"],"sources":["/home/thom/Workspace/Mioto/BT2_3/profile-management-webapp/src/actions/UserAuthen.jsx"],"sourcesContent":["import * as types from '../constants/ActionTypes';\nimport AuthService from '../service/AuthService';\n\nexport const register = user => (dispatch) => {\n    return AuthService.register(user)\n        .then(res => {\n            if(res.data.errrCode === 0){\n                dispatch({\n                    type: types.REGISTER_SUCCESS,\n                });\n            \n                dispatch({\n                    type: types.SET_MESSAGE,\n                    payload: { errC: res.data.errCode, errM: res.data.errMessage},\n                });\n            \n                return Promise.resolve();\n            }else{\n                dispatch({\n                    type: types.REGISTER_FAIL,\n                });\n            \n                dispatch({\n                    type: types.SET_MESSAGE,\n                    payload: { errC: res.data.errCode, errM: res.data.errMessage},\n                });\n            \n                return Promise.resolve();\n            }\n        })\n        .catch(error => {\n            const message =\n                (error.response &&\n                    error.response.data &&\n                    error.response.data.message) ||\n                error.message ||\n                error.toString();\n\n            dispatch({\n                type: types.REGISTER_FAIL,\n            });\n\n            dispatch({\n                type: types.SET_MESSAGE,\n                payload: {errC: -201, message},\n            });\n\n            return Promise.reject();\n        });\n}\n\nexport const login = user => (dispatch) => {\n    return AuthService.login(user)\n        .then(res => {\n            if(res.data.errrCode === 0){\n                dispatch({\n                    type: types.LOGIN_SUCCESS,\n                    payload: {user: res.data.user}\n                });\n            \n                dispatch({\n                    type: types.SET_MESSAGE,\n                    payload: { errC: res.data.errCode, errM: res.data.errMessage},\n                });\n            \n                return Promise.resolve();\n            }else{\n                dispatch({\n                    type: types.LOGIN_FAIL,\n                });\n            \n                dispatch({\n                    type: types.SET_MESSAGE,\n                    payload: { errC: res.data.errCode, errM: res.data.errMessage},\n                });\n            \n                return Promise.resolve();\n            }\n        })\n        .catch(error => {\n            const message =\n                (error.response &&\n                    error.response.data &&\n                    error.response.data.message) ||\n                error.message ||\n                error.toString();\n\n            dispatch({\n                type: types.LOGIN_FAIL,\n            });\n\n            dispatch({\n                type: types.SET_MESSAGE,\n                payload: {errC: -201, message},\n            });\n\n            return Promise.reject();\n        });\n}\n\nexport const logout = () => (dispatch) => {\n    return AuthService.logout()\n        .then(res => {\n            if(res.data.errrCode === 0){\n                dispatch({\n                    type: types.LOGOUT,\n                });\n            \n                dispatch({\n                    type: types.SET_MESSAGE,\n                    payload: { errC: res.data.errCode, errM: res.data.errMessage},\n                });\n            \n                return Promise.resolve();\n            }else{\n                dispatch({\n                    type: types.LOGOUT,\n                });\n            \n                dispatch({\n                    type: types.SET_MESSAGE,\n                    payload: { errC: res.data.errCode, errM: res.data.errMessage},\n                });\n            \n                return Promise.resolve();\n            }\n        })\n        .catch(error => {\n            const message =\n                (error.response &&\n                    error.response.data &&\n                    error.response.data.message) ||\n                error.message ||\n                error.toString();\n\n            dispatch({\n                type: types.LOGOUT,\n            });\n\n            dispatch({\n                type: types.SET_MESSAGE,\n                payload: {errC: -201, message},\n            });\n\n            return Promise.reject();\n        });\n}\n\nexport const getProfile = () => (dispatch) => {\n\n}\n"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,0BAA0B;AACjD,OAAOC,WAAW,MAAM,wBAAwB;AAEhD,OAAO,MAAMC,QAAQ,GAAGC,IAAI,IAAKC,QAAQ,IAAK;EAC1C,OAAOH,WAAW,CAACC,QAAQ,CAACC,IAAI,CAAC,CAC5BE,IAAI,CAACC,GAAG,IAAI;IACT,IAAGA,GAAG,CAACC,IAAI,CAACC,QAAQ,KAAK,CAAC,EAAC;MACvBJ,QAAQ,CAAC;QACLK,IAAI,EAAET,KAAK,CAACU;MAChB,CAAC,CAAC;MAEFN,QAAQ,CAAC;QACLK,IAAI,EAAET,KAAK,CAACW,WAAW;QACvBC,OAAO,EAAE;UAAEC,IAAI,EAAEP,GAAG,CAACC,IAAI,CAACO,OAAO;UAAEC,IAAI,EAAET,GAAG,CAACC,IAAI,CAACS;QAAU;MAChE,CAAC,CAAC;MAEF,OAAOC,OAAO,CAACC,OAAO,EAAE;IAC5B,CAAC,MAAI;MACDd,QAAQ,CAAC;QACLK,IAAI,EAAET,KAAK,CAACmB;MAChB,CAAC,CAAC;MAEFf,QAAQ,CAAC;QACLK,IAAI,EAAET,KAAK,CAACW,WAAW;QACvBC,OAAO,EAAE;UAAEC,IAAI,EAAEP,GAAG,CAACC,IAAI,CAACO,OAAO;UAAEC,IAAI,EAAET,GAAG,CAACC,IAAI,CAACS;QAAU;MAChE,CAAC,CAAC;MAEF,OAAOC,OAAO,CAACC,OAAO,EAAE;IAC5B;EACJ,CAAC,CAAC,CACDE,KAAK,CAACC,KAAK,IAAI;IACZ,MAAMC,OAAO,GACRD,KAAK,CAACE,QAAQ,IACXF,KAAK,CAACE,QAAQ,CAAChB,IAAI,IACnBc,KAAK,CAACE,QAAQ,CAAChB,IAAI,CAACe,OAAO,IAC/BD,KAAK,CAACC,OAAO,IACbD,KAAK,CAACG,QAAQ,EAAE;IAEpBpB,QAAQ,CAAC;MACLK,IAAI,EAAET,KAAK,CAACmB;IAChB,CAAC,CAAC;IAEFf,QAAQ,CAAC;MACLK,IAAI,EAAET,KAAK,CAACW,WAAW;MACvBC,OAAO,EAAE;QAACC,IAAI,EAAE,CAAC,GAAG;QAAES;MAAO;IACjC,CAAC,CAAC;IAEF,OAAOL,OAAO,CAACQ,MAAM,EAAE;EAC3B,CAAC,CAAC;AACV,CAAC;AAED,OAAO,MAAMC,KAAK,GAAGvB,IAAI,IAAKC,QAAQ,IAAK;EACvC,OAAOH,WAAW,CAACyB,KAAK,CAACvB,IAAI,CAAC,CACzBE,IAAI,CAACC,GAAG,IAAI;IACT,IAAGA,GAAG,CAACC,IAAI,CAACC,QAAQ,KAAK,CAAC,EAAC;MACvBJ,QAAQ,CAAC;QACLK,IAAI,EAAET,KAAK,CAAC2B,aAAa;QACzBf,OAAO,EAAE;UAACT,IAAI,EAAEG,GAAG,CAACC,IAAI,CAACJ;QAAI;MACjC,CAAC,CAAC;MAEFC,QAAQ,CAAC;QACLK,IAAI,EAAET,KAAK,CAACW,WAAW;QACvBC,OAAO,EAAE;UAAEC,IAAI,EAAEP,GAAG,CAACC,IAAI,CAACO,OAAO;UAAEC,IAAI,EAAET,GAAG,CAACC,IAAI,CAACS;QAAU;MAChE,CAAC,CAAC;MAEF,OAAOC,OAAO,CAACC,OAAO,EAAE;IAC5B,CAAC,MAAI;MACDd,QAAQ,CAAC;QACLK,IAAI,EAAET,KAAK,CAAC4B;MAChB,CAAC,CAAC;MAEFxB,QAAQ,CAAC;QACLK,IAAI,EAAET,KAAK,CAACW,WAAW;QACvBC,OAAO,EAAE;UAAEC,IAAI,EAAEP,GAAG,CAACC,IAAI,CAACO,OAAO;UAAEC,IAAI,EAAET,GAAG,CAACC,IAAI,CAACS;QAAU;MAChE,CAAC,CAAC;MAEF,OAAOC,OAAO,CAACC,OAAO,EAAE;IAC5B;EACJ,CAAC,CAAC,CACDE,KAAK,CAACC,KAAK,IAAI;IACZ,MAAMC,OAAO,GACRD,KAAK,CAACE,QAAQ,IACXF,KAAK,CAACE,QAAQ,CAAChB,IAAI,IACnBc,KAAK,CAACE,QAAQ,CAAChB,IAAI,CAACe,OAAO,IAC/BD,KAAK,CAACC,OAAO,IACbD,KAAK,CAACG,QAAQ,EAAE;IAEpBpB,QAAQ,CAAC;MACLK,IAAI,EAAET,KAAK,CAAC4B;IAChB,CAAC,CAAC;IAEFxB,QAAQ,CAAC;MACLK,IAAI,EAAET,KAAK,CAACW,WAAW;MACvBC,OAAO,EAAE;QAACC,IAAI,EAAE,CAAC,GAAG;QAAES;MAAO;IACjC,CAAC,CAAC;IAEF,OAAOL,OAAO,CAACQ,MAAM,EAAE;EAC3B,CAAC,CAAC;AACV,CAAC;AAED,OAAO,MAAMI,MAAM,GAAG,MAAOzB,QAAQ,IAAK;EACtC,OAAOH,WAAW,CAAC4B,MAAM,EAAE,CACtBxB,IAAI,CAACC,GAAG,IAAI;IACT,IAAGA,GAAG,CAACC,IAAI,CAACC,QAAQ,KAAK,CAAC,EAAC;MACvBJ,QAAQ,CAAC;QACLK,IAAI,EAAET,KAAK,CAAC8B;MAChB,CAAC,CAAC;MAEF1B,QAAQ,CAAC;QACLK,IAAI,EAAET,KAAK,CAACW,WAAW;QACvBC,OAAO,EAAE;UAAEC,IAAI,EAAEP,GAAG,CAACC,IAAI,CAACO,OAAO;UAAEC,IAAI,EAAET,GAAG,CAACC,IAAI,CAACS;QAAU;MAChE,CAAC,CAAC;MAEF,OAAOC,OAAO,CAACC,OAAO,EAAE;IAC5B,CAAC,MAAI;MACDd,QAAQ,CAAC;QACLK,IAAI,EAAET,KAAK,CAAC8B;MAChB,CAAC,CAAC;MAEF1B,QAAQ,CAAC;QACLK,IAAI,EAAET,KAAK,CAACW,WAAW;QACvBC,OAAO,EAAE;UAAEC,IAAI,EAAEP,GAAG,CAACC,IAAI,CAACO,OAAO;UAAEC,IAAI,EAAET,GAAG,CAACC,IAAI,CAACS;QAAU;MAChE,CAAC,CAAC;MAEF,OAAOC,OAAO,CAACC,OAAO,EAAE;IAC5B;EACJ,CAAC,CAAC,CACDE,KAAK,CAACC,KAAK,IAAI;IACZ,MAAMC,OAAO,GACRD,KAAK,CAACE,QAAQ,IACXF,KAAK,CAACE,QAAQ,CAAChB,IAAI,IACnBc,KAAK,CAACE,QAAQ,CAAChB,IAAI,CAACe,OAAO,IAC/BD,KAAK,CAACC,OAAO,IACbD,KAAK,CAACG,QAAQ,EAAE;IAEpBpB,QAAQ,CAAC;MACLK,IAAI,EAAET,KAAK,CAAC8B;IAChB,CAAC,CAAC;IAEF1B,QAAQ,CAAC;MACLK,IAAI,EAAET,KAAK,CAACW,WAAW;MACvBC,OAAO,EAAE;QAACC,IAAI,EAAE,CAAC,GAAG;QAAES;MAAO;IACjC,CAAC,CAAC;IAEF,OAAOL,OAAO,CAACQ,MAAM,EAAE;EAC3B,CAAC,CAAC;AACV,CAAC;AAED,OAAO,MAAMM,UAAU,GAAG,MAAO3B,QAAQ,IAAK,CAE9C,CAAC"},"metadata":{},"sourceType":"module"}